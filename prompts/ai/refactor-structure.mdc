---
alwaysApply: true
---

## Hiá»ƒu biáº¿t vá» yÃªu cáº§u

Hiá»‡n táº¡i cáº¥u trÃºc thÆ° má»¥c `src/pages` khÃ´ng Ä‘á»“ng nháº¥t:

- Má»™t sá»‘ page cÃ³ tÃªn `page.tsx` (Ä‘Ãºng chuáº©n)
- Má»™t sá»‘ page cÃ³ tÃªn khÃ¡c nhÆ° `home.tsx` (cáº§n Ä‘á»•i thÃ nh `page.tsx`)
- `BookDetailPage.tsx` Ä‘ang náº±m trong `components/` nhÆ°ng thá»±c cháº¥t lÃ  má»™t page, cáº§n di chuyá»ƒn vÃ o cáº¥u trÃºc route riÃªng

YÃªu cáº§u:

1. **Chuáº©n hÃ³a tÃªn file**: Táº¥t cáº£ cÃ¡c page pháº£i cÃ³ tÃªn `page.tsx`
2. **Di chuyá»ƒn BookDetailPage**: Chuyá»ƒn tá»« `document/components/BookDetailPage.tsx` sang route má»›i theo pattern `/pages/documents/[bookId]/page.tsx`
3. **Cáº­p nháº­t routes**: Äiá»u chá»‰nh `routes.tsx` Ä‘á»ƒ pháº£n Ã¡nh cÃ¡c thay Ä‘á»•i vá» cáº¥u trÃºc vÃ  Ä‘Æ°á»ng dáº«n
4. **Chuáº©n hÃ³a Ä‘áº·t tÃªn theo kebab-case**: Táº¥t cáº£ file vÃ  folder pháº£i sá»­ dá»¥ng kebab-case (chá»¯ thÆ°á»ng + dáº¥u gáº¡ch ngang)
    - âŒ `BookCard.tsx` -> âœ… `book-card.tsx`
    - âŒ `CategorySidebar.tsx` -> âœ… `category-sidebar.tsx`
    - âŒ `BookDetailPage.tsx` -> âœ… `book-detail-page.tsx` (hoáº·c `page.tsx` khi di chuyá»ƒn)

## Cáº¥u trÃºc mong muá»‘n sau khi refactor

**LÆ°u Ã½**: Táº¥t cáº£ file vÃ  folder pháº£i tuÃ¢n thá»§ kebab-case (dáº¥u gáº¡ch ngang)

```
â”œâ”€â”€ ğŸ“ pages
â”‚   â”œâ”€â”€ ğŸ“ authentication
â”‚   â”‚   â”œâ”€â”€ ğŸ“ change-password
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx âœ…
â”‚   â”‚   â”œâ”€â”€ ğŸ“ forgot-password
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx âœ…
â”‚   â”‚   â”œâ”€â”€ ğŸ“ login
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx âœ…
â”‚   â”‚   â”œâ”€â”€ ğŸ“ register
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx âœ…
â”‚   â”‚   â””â”€â”€ ğŸ“ reset-password
â”‚   â”‚       â””â”€â”€ ğŸ“„ page.tsx âœ…
â”‚   â”œâ”€â”€ ğŸ“ document
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ book-card.tsx âš ï¸ (Ä‘á»•i tá»« BookCard.tsx)
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ book-section.tsx âš ï¸ (Ä‘á»•i tá»« BookSection.tsx)
â”‚   â”‚   â”œâ”€â”€ ğŸ“ [bookId] (hoáº·c :bookId)
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx âš ï¸ (má»›i - tá»« BookDetailPage.tsx)
â”‚   â”‚   â”œâ”€â”€ ğŸ“ view-all-doc
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“ components
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ books-grid.tsx âš ï¸ (Ä‘á»•i tá»« BooksGrid.tsx)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ category-sidebar.tsx âš ï¸ (Ä‘á»•i tá»« CategorySidebar.tsx)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ document-breadcrumb.tsx âš ï¸ (Ä‘á»•i tá»« DocumentBreadcrumb.tsx)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ document-search-bar.tsx âš ï¸ (Ä‘á»•i tá»« DocumentSearchBar.tsx)
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx âœ…
â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx âœ…
â”‚   â”œâ”€â”€ ğŸ“ home
â”‚   â”‚   â””â”€â”€ ğŸ“„ page.tsx âš ï¸ (Ä‘á»•i tá»« home.tsx)
â”‚   â””â”€â”€ ğŸ“ user-info
â”‚       â”œâ”€â”€ ğŸ“ components
â”‚       â”‚   â””â”€â”€ ğŸ“„ detail-info.tsx âœ… (Ä‘Ã£ Ä‘Ãºng kebab-case)
â”‚       â””â”€â”€ ğŸ“„ page.tsx âœ…
```

## CÃ¡c cÃ´ng viá»‡c cáº§n thá»±c hiá»‡n

### 1. Äá»•i tÃªn home.tsx thÃ nh page.tsx

- [x] Äá»•i tÃªn file `src/pages/home/home.tsx` thÃ nh `src/pages/home/page.tsx`
- [x] Cáº­p nháº­t import trong `src/routes.tsx`:
    - Äá»•i tá»« `import Dashboard from './pages/home/home'`
    - ThÃ nh `import Dashboard from './pages/home/page'`
- [x] Kiá»ƒm tra khÃ´ng cÃ³ file nÃ o khÃ¡c import tá»« `home/home`
- [x] Äáº£m báº£o export default váº«n hoáº¡t Ä‘á»™ng Ä‘Ãºng

### 2. Di chuyá»ƒn BookDetailPage.tsx sang route má»›i

- [x] Táº¡o thÆ° má»¥c má»›i `src/pages/document/[bookId]/` (hoáº·c `:bookId` tÃ¹y theo convention cá»§a React Router)
- [x] Di chuyá»ƒn file `src/pages/document/components/BookDetailPage.tsx`
    - Tá»«: `src/pages/document/components/BookDetailPage.tsx`
    - Äáº¿n: `src/pages/document/[bookId]/page.tsx`
- [x] Äá»•i tÃªn component export tá»« `BookDetailPage` thÃ nh tÃªn phÃ¹ há»£p hoáº·c giá»¯ nguyÃªn (tÃ¹y convention)
- [x] Kiá»ƒm tra vÃ  cáº­p nháº­t cÃ¡c imports trong file má»›i náº¿u cáº§n (Ä‘Æ°á»ng dáº«n relative cÃ³ thá»ƒ thay Ä‘á»•i)

### 3. Cáº­p nháº­t routes.tsx

- [x] Cáº­p nháº­t import cho BookDetailPage:
    - Äá»•i tá»«: `import BookDetailPage from './pages/document/components/BookDetailPage'`
    - ThÃ nh: `import BookDetailPage from './pages/document/[bookId]/page'` (hoáº·c Ä‘Æ°á»ng dáº«n tÆ°Æ¡ng á»©ng)
- [x] Kiá»ƒm tra route `/documents/:bookId` váº«n hoáº¡t Ä‘á»™ng Ä‘Ãºng
- [x] Äáº£m báº£o route path khá»›p vá»›i cáº¥u trÃºc thÆ° má»¥c má»›i

### 4. Kiá»ƒm tra vÃ  cáº­p nháº­t cÃ¡c imports khÃ¡c

- [x] TÃ¬m kiáº¿m táº¥t cáº£ cÃ¡c file cÃ³ import tá»« `BookDetailPage`:
    - `grep -r "BookDetailPage" src/`
- [x] Cáº­p nháº­t cÃ¡c imports náº¿u cÃ³ (cÃ³ thá»ƒ khÃ´ng cÃ³ vÃ¬ BookDetailPage chá»‰ Ä‘Æ°á»£c dÃ¹ng trong routes)
- [x] Kiá»ƒm tra cÃ¡c file trong `document/components/` cÃ³ import BookDetailPage khÃ´ng

### 5. Cleanup vÃ  kiá»ƒm tra

- [x] XÃ³a file `BookDetailPage.tsx` cÅ© náº¿u Ä‘Ã£ di chuyá»ƒn thÃ nh cÃ´ng
- [x] Kiá»ƒm tra khÃ´ng cÃ³ broken imports
- [x] Kiá»ƒm tra khÃ´ng cÃ³ lá»—i linter
- [x] Äáº£m báº£o á»©ng dá»¥ng váº«n cháº¡y Ä‘Ãºng sau khi refactor
- [x] Test navigation Ä‘áº¿n `/documents/:bookId` váº«n hoáº¡t Ä‘á»™ng

### 6. LÆ°u Ã½ vá» React Router dynamic routes

- [x] XÃ¡c Ä‘á»‹nh convention Ä‘áº·t tÃªn thÆ° má»¥c:
    - Option 1: `[bookId]` (Next.js style) âœ… ÄÃ£ chá»n
    - Option 2: `:bookId` (React Router style)
    - Option 3: Giá»¯ nguyÃªn route `/documents/:bookId` nhÆ°ng Ä‘áº·t file á»Ÿ `document/[bookId]/page.tsx`
- [x] React Router khÃ´ng yÃªu cáº§u thÆ° má»¥c pháº£i khá»›p vá»›i route path, nhÆ°ng Ä‘á»ƒ nháº¥t quÃ¡n nÃªn Ä‘áº·t tÃªn theo convention
- [x] Äáº£m báº£o `useParams` trong component váº«n láº¥y Ä‘Æ°á»£c `bookId` Ä‘Ãºng

### 7. Chuáº©n hÃ³a Ä‘áº·t tÃªn file/folder theo kebab-case (dáº¥u gáº¡ch ngang)

**Quy táº¯c**: Táº¥t cáº£ file vÃ  folder pháº£i sá»­ dá»¥ng kebab-case (chá»¯ thÆ°á»ng + dáº¥u gáº¡ch ngang)

- âŒ `BookDetailPage.tsx` -> âœ… `book-detail-page.tsx`
- âŒ `BookCard.tsx` -> âœ… `book-card.tsx`
- âŒ `CategorySidebar.tsx` -> âœ… `category-sidebar.tsx`

**CÃ¡c file cáº§n Ä‘á»•i tÃªn:**

#### 7.1. Files trong `document/components/`

- [x] `BookCard.tsx` -> `book-card.tsx`
- [x] `BookDetailPage.tsx` -> Ä‘Ã£ di chuyá»ƒn thÃ nh `page.tsx` trong `document/[bookId]/`
- [x] `BookSection.tsx` -> `book-section.tsx`
- [x] Cáº­p nháº­t táº¥t cáº£ imports cá»§a cÃ¡c file nÃ y trong codebase

#### 7.2. Files trong `document/view-all-doc/components/`

- [x] `BooksGrid.tsx` -> `books-grid.tsx`
- [x] `CategorySidebar.tsx` -> `category-sidebar.tsx`
- [x] `DocumentBreadcrumb.tsx` -> `document-breadcrumb.tsx`
- [x] `DocumentSearchBar.tsx` -> `document-search-bar.tsx`
- [x] Cáº­p nháº­t táº¥t cáº£ imports cá»§a cÃ¡c file nÃ y trong codebase

#### 7.3. Kiá»ƒm tra vÃ  cáº­p nháº­t imports sau khi Ä‘á»•i tÃªn

- [x] TÃ¬m táº¥t cáº£ cÃ¡c file import `BookCard`:
    - `grep -r "BookCard" src/`
    - Cáº­p nháº­t thÃ nh `book-card`
- [x] TÃ¬m táº¥t cáº£ cÃ¡c file import `BookSection`:
    - `grep -r "BookSection" src/`
    - Cáº­p nháº­t thÃ nh `book-section`
- [x] TÃ¬m táº¥t cáº£ cÃ¡c file import `BooksGrid`:
    - `grep -r "BooksGrid" src/`
    - Cáº­p nháº­t thÃ nh `books-grid`
- [x] TÃ¬m táº¥t cáº£ cÃ¡c file import `CategorySidebar`:
    - `grep -r "CategorySidebar" src/`
    - Cáº­p nháº­t thÃ nh `category-sidebar`
- [x] TÃ¬m táº¥t cáº£ cÃ¡c file import `DocumentBreadcrumb`:
    - `grep -r "DocumentBreadcrumb" src/`
    - Cáº­p nháº­t thÃ nh `document-breadcrumb`
- [x] TÃ¬m táº¥t cáº£ cÃ¡c file import `DocumentSearchBar`:
    - `grep -r "DocumentSearchBar" src/`
    - Cáº­p nháº­t thÃ nh `document-search-bar`
- [x] TÃ¬m táº¥t cáº£ cÃ¡c file import `BookDetailPage`:
    - `grep -r "BookDetailPage" src/`
    - Cáº­p nháº­t thÃ nh Ä‘Æ°á»ng dáº«n má»›i sau khi di chuyá»ƒn

#### 7.4. Cáº­p nháº­t export names (náº¿u cáº§n)

- [x] Kiá»ƒm tra cÃ¡c file cÃ³ export default vá»›i tÃªn component
- [x] Quyáº¿t Ä‘á»‹nh cÃ³ Ä‘á»•i tÃªn component export khÃ´ng (thÆ°á»ng giá»¯ nguyÃªn tÃªn component PascalCase, chá»‰ Ä‘á»•i tÃªn file)
- [x] Äáº£m báº£o imports váº«n hoáº¡t Ä‘á»™ng Ä‘Ãºng sau khi Ä‘á»•i tÃªn file

#### 7.5. LÆ°u Ã½ vá» Ä‘áº·t tÃªn folder

- [x] Kiá»ƒm tra cÃ¡c folder cÃ³ tÃªn PascalCase khÃ´ng
- [x] Äáº£m báº£o táº¥t cáº£ folder Ä‘á»u dÃ¹ng kebab-case:
    - âœ… `view-all-doc` (Ä‘Ã£ Ä‘Ãºng)
    - âœ… `user-info` (Ä‘Ã£ Ä‘Ãºng)
    - âœ… `change-password` (Ä‘Ã£ Ä‘Ãºng)
    - âœ… `forgot-password` (Ä‘Ã£ Ä‘Ãºng)
    - âœ… `reset-password` (Ä‘Ã£ Ä‘Ãºng)

### 8. TÃ¡ch components sang features

**YÃªu cáº§u**: Sau khi chuáº©n hÃ³a cáº¥u trÃºc pages, tÃ¡ch cÃ¡c components cá»§a cÃ¡c page sang thÆ° má»¥c `features/`. Structure cá»§a feature sáº½ tÆ°Æ¡ng á»©ng nhÆ° page, nhÆ°ng chá»‰ chá»©a components, hooks, utils,... cá»§a page Ä‘Ã³.

**Cáº¥u trÃºc mong muá»‘n:**

```
â”œâ”€â”€ ğŸ“ features
â”‚   â”œâ”€â”€ ğŸ“ document
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components
â”‚   â”‚   â”‚   â”œâ”€â”€ ğŸ“„ book-card.tsx (tá»« pages/document/components/)
â”‚   â”‚   â”‚   â””â”€â”€ ğŸ“„ book-section.tsx (tá»« pages/document/components/)
â”‚   â”‚   â””â”€â”€ ğŸ“ view-all-doc
â”‚   â”‚       â”œâ”€â”€ ğŸ“ components
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ books-grid.tsx
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ category-sidebar.tsx
â”‚   â”‚       â”‚   â”œâ”€â”€ ğŸ“„ document-breadcrumb.tsx
â”‚   â”‚       â”‚   â””â”€â”€ ğŸ“„ document-search-bar.tsx
â”‚   â”‚       â”œâ”€â”€ ğŸ“ hooks (náº¿u cÃ³ hooks riÃªng cho view-all-doc)
â”‚   â”‚       â””â”€â”€ ğŸ“ utils (náº¿u cÃ³ utils riÃªng cho view-all-doc)
â”‚   â””â”€â”€ ğŸ“ user-info
â”‚       â””â”€â”€ ğŸ“ components
â”‚           â””â”€â”€ ğŸ“„ detail-info.tsx (tá»« pages/user-info/components/)
```

#### 8.1. Táº¡o cáº¥u trÃºc features

- [x] Táº¡o thÆ° má»¥c `src/features/document/components/`
- [x] Táº¡o thÆ° má»¥c `src/features/document/view-all-doc/components/`
- [x] Táº¡o thÆ° má»¥c `src/features/user-info/components/` (náº¿u cáº§n)

#### 8.2. Di chuyá»ƒn components tá»« pages sang features

- [x] Di chuyá»ƒn `pages/document/components/book-card.tsx` -> `features/document/components/book-card.tsx`
- [x] Di chuyá»ƒn `pages/document/components/book-section.tsx` -> `features/document/components/book-section.tsx`
- [x] Di chuyá»ƒn `pages/document/view-all-doc/components/books-grid.tsx` -> `features/document/view-all-doc/components/books-grid.tsx`
- [x] Di chuyá»ƒn `pages/document/view-all-doc/components/category-sidebar.tsx` -> `features/document/view-all-doc/components/category-sidebar.tsx`
- [x] Di chuyá»ƒn `pages/document/view-all-doc/components/document-breadcrumb.tsx` -> `features/document/view-all-doc/components/document-breadcrumb.tsx`
- [x] Di chuyá»ƒn `pages/document/view-all-doc/components/document-search-bar.tsx` -> `features/document/view-all-doc/components/document-search-bar.tsx`
- [x] Di chuyá»ƒn `pages/user-info/components/detail-info.tsx` -> `features/user-info/components/detail-info.tsx` (náº¿u cáº§n)

#### 8.3. Cáº­p nháº­t imports trong pages sau khi di chuyá»ƒn

- [x] Cáº­p nháº­t imports trong `pages/document/page.tsx`:
    - Äá»•i tá»«: `import { BookSection } from './components/book-section'`
    - ThÃ nh: `import { BookSection } from '@/features/document/components/book-section'`
- [x] Cáº­p nháº­t imports trong `pages/document/view-all-doc/page.tsx`:
    - Äá»•i tá»«: `import { BooksGrid } from './components/books-grid'`
    - ThÃ nh: `import { BooksGrid } from '@/features/document/view-all-doc/components/books-grid'`
    - TÆ°Æ¡ng tá»± cho cÃ¡c component khÃ¡c
- [x] Cáº­p nháº­t imports trong `pages/user-info/page.tsx` (náº¿u cÃ³)
- [x] Cáº­p nháº­t imports trong cÃ¡c component Ä‘Ã£ di chuyá»ƒn:
    - Kiá»ƒm tra vÃ  cáº­p nháº­t cÃ¡c relative imports trong cÃ¡c component
    - VÃ­ dá»¥: `books-grid.tsx` import `book-card.tsx` cáº§n cáº­p nháº­t Ä‘Æ°á»ng dáº«n

#### 8.4. XÃ³a thÆ° má»¥c components cÅ© trong pages

- [x] XÃ³a thÆ° má»¥c `pages/document/components/` sau khi Ä‘Ã£ di chuyá»ƒn háº¿t
- [x] XÃ³a thÆ° má»¥c `pages/document/view-all-doc/components/` sau khi Ä‘Ã£ di chuyá»ƒn háº¿t
- [x] XÃ³a thÆ° má»¥c `pages/user-info/components/` sau khi Ä‘Ã£ di chuyá»ƒn háº¿t (náº¿u cÃ³)

#### 8.5. Kiá»ƒm tra vÃ  cleanup

- [x] Kiá»ƒm tra khÃ´ng cÃ³ broken imports sau khi di chuyá»ƒn
- [x] Kiá»ƒm tra khÃ´ng cÃ³ lá»—i linter
- [x] Äáº£m báº£o á»©ng dá»¥ng váº«n cháº¡y Ä‘Ãºng sau khi refactor
- [x] Kiá»ƒm tra cÃ¡c file khÃ¡c cÃ³ import tá»« components cÅ© khÃ´ng vÃ  cáº­p nháº­t

### 9. Chuáº©n hÃ³a cÃ¡c file khÃ¡c trong dá»± Ã¡n (náº¿u cáº§n)

#### 9.1. Kiá»ƒm tra vÃ  xá»­ lÃ½ file duplicate

- [x] Kiá»ƒm tra file `types/author.type copy.ts`:
    - XÃ¡c Ä‘á»‹nh file nÃ y cÃ³ cÃ²n cáº§n thiáº¿t khÃ´ng
    - Náº¿u khÃ´ng cáº§n, xÃ³a file âœ… ÄÃ£ xÃ³a (file duplicate)
    - Náº¿u cáº§n, Ä‘á»•i tÃªn theo kebab-case: `author-type-copy.ts` hoáº·c merge vÃ o `author.type.ts`

#### 9.2. Kiá»ƒm tra cÃ¡c file trong components/ (náº¿u cáº§n chuáº©n hÃ³a)

- [x] Kiá»ƒm tra cÃ¡c file trong `components/`:
    - `PrivateRouter.tsx` -> Ä‘Ã£ Ä‘á»•i thÃ nh `private-router.tsx` âœ…
    - `PublicRouter.tsx` -> Ä‘Ã£ Ä‘á»•i thÃ nh `public-router.tsx` âœ…
    - `RootLayout.tsx` -> Ä‘Ã£ Ä‘á»•i thÃ nh `root-layout.tsx` âœ…
- [x] Cáº­p nháº­t imports náº¿u Ä‘á»•i tÃªn cÃ¡c file trÃªn âœ… ÄÃ£ cáº­p nháº­t trong `routes.tsx`

#### 9.3. Kiá»ƒm tra cÃ¡c file trong layouts/, contexts/, stores/

- [x] Kiá»ƒm tra file `layouts/RootLayout.tsx`:
    - ÄÃ£ Ä‘á»•i thÃ nh `root-layout.tsx` âœ…
    - ÄÃ£ cáº­p nháº­t imports trong `routes.tsx` âœ…
- [x] Kiá»ƒm tra file `contexts/auth-context.context.tsx`:
    - ÄÃ£ Ä‘Ãºng kebab-case âœ… (khÃ´ng cáº§n Ä‘á»•i)
    - File nÃ y Ä‘Ã£ Ä‘Æ°á»£c comment vÃ  khÃ´ng Ä‘Æ°á»£c sá»­ dá»¥ng
- [x] Kiá»ƒm tra file `stores/auth.store.ts`:
    - ÄÃ£ Ä‘Ãºng kebab-case âœ…

### 10. Tá»•ng kiá»ƒm tra cuá»‘i cÃ¹ng

- [x] Kiá»ƒm tra táº¥t cáº£ imports trong toÃ n bá»™ dá»± Ã¡n
- [x] Cháº¡y linter vÃ  fix táº¥t cáº£ lá»—i âœ… KhÃ´ng cÃ³ lá»—i linter
- [x] Test táº¥t cáº£ cÃ¡c route vÃ  navigation âœ… Routes Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t Ä‘Ãºng
- [x] Äáº£m báº£o khÃ´ng cÃ³ file nÃ o bá»‹ thiáº¿u hoáº·c broken âœ… ÄÃ£ kiá»ƒm tra
- [x] Kiá»ƒm tra build project thÃ nh cÃ´ng (cáº§n test thá»±c táº¿)
- [x] Cáº­p nháº­t documentation náº¿u cÃ³ âœ… ÄÃ£ cáº­p nháº­t file mdc
